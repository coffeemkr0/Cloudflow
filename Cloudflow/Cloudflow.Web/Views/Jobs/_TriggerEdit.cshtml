@using Cloudflow.Web.Utility.HtmlHelpers
@model Cloudflow.Web.ViewModels.Jobs.TriggerViewModel

<div role="tabpanel" class="tab-pane @(Model.Active ? "active" : "")" id="@Model.TriggerDefinitionId">
    <ul class="nav nav-tabs">
        <li role="presentation" class="active">
            <a href="#@(Model.TriggerDefinitionId)__general" role="tab" data-toggle="tab">General</a>
        </li>
        <li role="presentation" class="">
            <a href="#@(Model.TriggerDefinitionId)__conditions" role="tab" data-toggle="tab">Conditions</a>
        </li>
    </ul>

    <div class="tab-content clearfix">
        <div role="tabpanel" class="tab-pane active" id="@(Model.TriggerDefinitionId)__general">
            <input type="hidden" name="@($"Triggers.[{Model.Index}].TriggerDefinitionId")"
                   id="@($"Triggers[{Model.Index}]_TriggerDefinitionId")"
                   value="@Model.TriggerDefinitionId" />
            @Html.CreateModelEdit(Model.ExtensionConfiguration, new List<string> { $"Triggers[{Model.Index}].ExtensionConfiguration" })
        </div>

        <div role="tabpanel" class="tab-pane" id="@(Model.TriggerDefinitionId)__conditions">
            @Html.Partial("_ConditionCollection", Model.Conditions) 
        </div>
    </div>
</div>
